<section class="viewport viewport_with-header d-flex">
  <aside class="sidebar bg-light shadow py-2 px-3" id="filters">
    <div class="border-bottom border-muted py-2">
      <h3 class="h5 mr-3">Hidden:</h3>
      <ul class="list-unstyled">
        <li *ngFor="let stateName of displayOrder">
          <label>
            <input
              class="mr-1"
              type="checkbox"
              [checked]="stateIsInactive(stateName)"
              (change)="toggleSwimlane(stateName)"
            />
            {{ stateName }}
          </label>
        </li>
      </ul>
    </div>
  </aside>

  <section class="d-flex flex-row overflow-inherit py-2 px-3" *ngIf="!loading">
    <ng-container *ngFor="let stateName of displayOrder">
      <div class="swimlane mr-3" *ngIf="boardState[stateName]">
        <header class="d-flex align-items-center pb-2">
          <div class="flex-grow-1">
            <h2 class="h4 d-inline mr-1">{{ stateName | titlecase }}</h2>
            <span>({{ displayGroups[stateName]?.length || 0 }})</span>
          </div>
          <div class="px-2">
            <input type="checkbox" (change)="toggleSwimlane(stateName)" />
          </div>
        </header>
        <div class="y-scroll pt-2">
          <div *ngFor="let story of displayGroups[stateName]">
            <pt-story-modal-wrapper (modalOpenClick)="selectStory(story)">
              <pt-story-card [story]="story"></pt-story-card>
            </pt-story-modal-wrapper>
          </div>
        </div>
      </div>
    </ng-container>
  </section>
</section>
